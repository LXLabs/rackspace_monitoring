# CHEF MANAGED FILE: DO NOT EDIT
# Controlling Cookbook: <%= @cookbook %>
#

type: agent.plugin
label: <%= @label %>
disabled: <%= @disabled %>
period: <%= @period.to_i %>
timeout: <%= @timeout.to_i %>
details:
  file: <%= @plugin_filename %>
  plugin_timeout: <%= @plugin_timeout.to_i %>
  <%- if @plugin_args %>
  args: <%= @plugin_args %>
  <%- end %>

<% if @alarm == true %>
alarms:
  alarm-plugin:
    label: Check from <%= @plugin_filename %>
    notification_plan_id: <%= @notification_plan_id %>
    criteria: |
<%= @alarm_criteria %>
<% end %>
